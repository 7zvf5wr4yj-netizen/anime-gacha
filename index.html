<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ReseitCards: RNG</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #030308;
      --card-bg: rgba(15, 15, 25, 0.8);
      --neon-blue: #00f3ff;
      --neon-purple: #bc00ff;
      --neon-gold: #ffcc00;
      --neon-red: #ff004c;
    }

    body {
      background-color: var(--bg);
      color: #fff;
      font-family: 'Rajdhani', sans-serif;
      margin: 0; padding: 0;
      overflow: hidden;
      height: 100vh;
    }

    /* –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ) */
    .bg-animation {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at center, #11112b 0%, #030308 100%);
      z-index: -1;
    }

    .app-container {
      display: flex; flex-direction: column; height: 100vh;
      padding: 20px; box-sizing: border-box;
    }

    /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
    .top-nav {
      display: flex; justify-content: space-between; align-items: center;
      background: var(--card-bg);
      padding: 15px; border-radius: 15px;
      border: 1px solid rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
    }

    .currency { display: flex; align-items: center; gap: 8px; font-family: 'Orbitron'; font-size: 18px; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }

    /* –ó–æ–Ω–∞ —Ä–æ–ª–ª–∞ (Sol's RNG Style) */
    .roll-area {
      flex-grow: 1;
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; position: relative;
    }

    .chance-counter {
      font-family: 'Orbitron'; font-size: 14px; color: rgba(255,255,255,0.4);
      margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px;
    }

    #result-display {
      text-align: center; transition: 0.3s;
    }

    .hero-name {
      font-size: 42px; font-weight: 700; text-transform: uppercase;
      margin: 5px 0; letter-spacing: -1px; line-height: 1;
    }

    .rarity-label {
      font-size: 18px; font-family: 'Orbitron'; text-shadow: 0 0 15px currentColor;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏ —ç–∫—Ä–∞–Ω–∞ */
    .shake { animation: shakeAnim 0.1s infinite; }
    @keyframes shakeAnim {
      0% { transform: translate(1px, 1px) rotate(0deg); }
      50% { transform: translate(-1px, -2px) rotate(-1deg); }
      100% { transform: translate(1px, 2px) rotate(1deg); }
    }

    /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
    .bottom-menu {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: auto;
    }

    .menu-btn {
      background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1);
      padding: 15px 5px; border-radius: 12px; color: #fff;
      font-family: 'Orbitron'; font-size: 11px; cursor: pointer;
      transition: 0.2s; text-align: center;
    }

    .menu-btn:active { transform: scale(0.9); border-color: var(--neon-blue); }

    .roll-btn {
      grid-column: span 3;
      background: linear-gradient(90deg, #004e92, #000428);
      border: 2px solid var(--neon-blue);
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.4);
      font-size: 20px; font-weight: bold; margin-bottom: 10px;
    }

    /* –≠—Ñ—Ñ–µ–∫—Ç—ã —Ä–µ–¥–∫–æ—Å—Ç–µ–π */
    .rarity-COMMON { color: #ccc; }
    .rarity-RARE { color: #00f3ff; }
    .rarity-EPIC { color: #bc00ff; }
    .rarity-LEGENDARY { color: #ffcc00; animation: glowGold 1s infinite alternate; }
    .rarity-MYTHIC { color: #ff004c; animation: shakeAnim 0.2s infinite; }
    .rarity-DIVINE { background: linear-gradient(90deg, #ff00cc, #3333ff, #13ff62, #ffcc00); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 50px; }

    @keyframes glowGold { from { text-shadow: 0 0 10px #ffcc00; } to { text-shadow: 0 0 30px #ffcc00, 0 0 50px #ff8800; } }

    /* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å Overlay */
    #inventory-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: var(--bg); z-index: 100; display: none; padding: 20px; box-sizing: border-box;
      overflow-y: auto;
    }
  </style>:root {
  --bg: #030308;
  --card-bg: rgba(15, 15, 25, 0.8);
  --neon-blue: #00f3ff;
  --neon-purple: #bc00ff;
  --neon-gold: #ffcc00;
  --neon-red: #ff004c;
}

body {
  background-color: var(--bg);
  color: #fff;
  font-family: 'Rajdhani', sans-serif;
  margin: 0; padding: 0;
  overflow: hidden;
  height: 100vh;
}

.bg-animation {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: radial-gradient(circle at center, #11112b 0%, #030308 100%);
  z-index: -1;
}

.app-container {
  display: flex; flex-direction: column; height: 100vh;
  padding: 20px; box-sizing: border-box;
}

.top-nav {
  display: flex; justify-content: space-between; align-items: center;
  background: var(--card-bg);
  padding: 15px; border-radius: 10px;
  border: 1px solid rgba(0, 243, 255, 0.2);
  backdrop-filter: blur(10px);
}

.currency { font-family: 'Orbitron'; font-size: 18px; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }

.roll-area {
  flex-grow: 1; display: flex; flex-direction: column; 
  align-items: center; justify-content: center; text-align: center;
}

.chance-counter {
  font-family: 'Orbitron'; font-size: 12px; color: rgba(255,255,255,0.4);
  margin-bottom: 10px; letter-spacing: 2px;
}

.hero-name {
  font-size: 48px; font-weight: 700; text-transform: uppercase;
  margin: 5px 0; letter-spacing: -1px;
}

.rarity-label { font-size: 16px; font-family: 'Orbitron'; letter-spacing: 3px; }

/* –ö–ù–û–ü–ö–ò –í –°–¢–ò–õ–ï SOLS RNG */
.bottom-menu { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }

.menu-btn {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 12px; border-radius: 5px; color: #fff;
  font-family: 'Orbitron'; font-size: 10px; cursor: pointer;
  transition: 0.2s;
}

.roll-btn {
  grid-column: span 3;
  background: linear-gradient(180deg, rgba(0, 243, 255, 0.15), transparent);
  border: 1px solid var(--neon-blue) !important;
  font-size: 20px; font-weight: bold; margin-bottom: 10px;
  animation: pulseBorder 2s infinite;
}

@keyframes pulseBorder {
  0%, 100% { box-shadow: 0 0 5px var(--neon-blue); }
  50% { box-shadow: 0 0 20px var(--neon-blue); }
}

/* –≠–§–§–ï–ö–¢–´ –†–ï–î–ö–û–°–¢–ï–ô */
.rarity-COMMON { color: #888; }
.rarity-RARE { color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }
.rarity-EPIC { color: var(--neon-purple); text-shadow: 0 0 15px var(--neon-purple); }
.rarity-LEGENDARY { color: var(--neon-gold); text-shadow: 0 0 20px var(--neon-gold); animation: shake 0.5s infinite; }
.rarity-DIVINE { 
    background: linear-gradient(90deg, #ff00cc, #3333ff, #13ff62, #ffcc00);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    font-size: 55px; animation: divineGlow 2s infinite linear;
}

@keyframes divineGlow { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
@keyframes shake { 0% { transform: translate(0); } 25% { transform: translate(1px, -1px); } 50% { transform: translate(-1px, 1px); } 100% { transform: translate(0); } }

  <script>
    const tg = window.Telegram.WebApp;
tg.expand();

// –ë–ê–ó–ê –ò–ó –¢–í–û–ï–ì–û –ü–†–û–®–õ–û–ì–û –ë–û–¢–ê + –®–ê–ù–°–´ RNG
const HEROES = [
    { name: "Slime", chance: 2, rarity: "COMMON" },
    { name: "Ichigo", chance: 50, rarity: "RARE" },
    { name: "Naruto", chance: 250, rarity: "EPIC" },
    { name: "Gojo", chance: 1000, rarity: "LEGENDARY" },
    { name: "Saitama", chance: 50000, rarity: "MYTHIC" },
    { name: "Sung Jin-Woo", chance: 1000000, rarity: "DIVINE" }
];

const BOSSES = [
    { name: "–°–£–ö–£–ù–ê", power: 15000, reward: 500 },
    { name: "–ú–ê–î–ê–†–ê", power: 50000, reward: 2000 }
];

// –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´
let state = JSON.parse(localStorage.getItem('reseit_rng_v3')) || {
    diamonds: 1000,
    tickets: 5,
    inventory: [],
    totalPower: 0
};

function save() { localStorage.setItem('reseit_rng_v3', JSON.stringify(state)); }

function updateUI() {
    document.getElementById('diamonds').innerText = state.diamonds.toLocaleString();
    document.getElementById('power-val').innerText = state.totalPower.toLocaleString();
    save();
}

// –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–†–ò–ó–´–í–ê (RNG)
function performRoll() {
    if (state.diamonds < 10) { tg.showAlert("–ù—É–∂–Ω–æ 10 üíé"); return; }
    
    state.diamonds -= 10;
    updateUI();

    const nameEl = document.getElementById('res-name');
    const rarEl = document.getElementById('res-rarity');
    const chanceEl = document.getElementById('chance-text');

    // –ê–Ω–∏–º–∞—Ü–∏—è "–ò–Ω—Ç—Ä–∏–≥–∏"
    nameEl.innerText = "ROLLING...";
    nameEl.className = "hero-name";
    rarEl.innerText = "";
    tg.HapticFeedback.impactOccurred('light');

    setTimeout(() => {
        let rolled = HEROES[0];
        for (let h of [...HEROES].reverse()) {
            if (Math.random() < (1 / h.chance)) {
                rolled = h;
                break;
            }
        }

        // –ï—Å–ª–∏ –≤—ã–ø–∞–ª–æ —á—Ç–æ-—Ç–æ –∫—Ä—É—á–µ 1:1000
        if (rolled.chance >= 1000) {
            tg.HapticFeedback.notificationOccurred('success');
            document.body.style.backgroundColor = "#1a0000"; // –í—Å–ø—ã—à–∫–∞
            setTimeout(() => document.body.style.backgroundColor = "#030308", 200);
        }

        nameEl.innerText = rolled.name;
        nameEl.className = `hero-name rarity-${rolled.rarity}`;
        rarEl.innerText = rolled.rarity;
        rarEl.className = `rarity-label rarity-${rolled.rarity}`;
        chanceEl.innerText = `LUCK: 1 –∫ ${rolled.chance.toLocaleString()}`;

        state.inventory.push(rolled);
        state.totalPower += Math.floor(rolled.chance / 10);
        updateUI();
    }, 800);
}

// –§–£–ù–ö–¶–ò–Ø –ë–û–Ø (–∏–∑ —Ç–≤–æ–µ–≥–æ Python –∫–æ–¥–∞)
function startPvP() {
    if (state.tickets < 1) {
        tg.showConfirm("–ù–µ—Ç —Ç–∏–∫–µ—Ç–æ–≤! –ö—É–ø–∏—Ç—å 5 —à—Ç—É–∫ –∑–∞ 500 üíé?", (ok) => {
            if(ok && state.diamonds >= 500) {
                state.diamonds -= 500; state.tickets += 5; updateUI();
            }
        });
        return;
    }

    const boss = BOSSES[Math.floor(Math.random() * BOSSES.length)];
    const win = state.totalPower > (boss.power * 0.8);
    
    if (win) {
        state.diamonds += boss.reward;
        state.tickets -= 1;
        tg.showAlert(`üèÜ –ü–û–ë–ï–î–ê! –¢—ã –æ–¥–æ–ª–µ–ª ${boss.name} –∏ –ø–æ–ª—É—á–∏–ª ${boss.reward} üíé`);
    } else {
        state.tickets -= 1;
        tg.showAlert(`üíÄ –ü–û–†–ê–ñ–ï–ù–ò–ï! ${boss.name} —Å–ª–∏—à–∫–æ–º —Å–∏–ª–µ–Ω.`);
    }
    updateUI();
}

updateUI();
  </script>
</body>
</html>
