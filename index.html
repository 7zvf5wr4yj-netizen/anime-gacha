<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Deck Roaster AI: Full Edition</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root { --bg: #05070a; --accent: #00f2ff; --glass: rgba(255, 255, 255, 0.05); --border: rgba(255, 255, 255, 0.1); }
    body { background: var(--bg); color: #fff; font-family: 'Outfit', sans-serif; margin: 0; padding: 0; height: 100vh; overflow: hidden; background: radial-gradient(circle at 50% 0%, #111827 0%, #05070a 100%); }
    .app { display: flex; flex-direction: column; height: 100%; max-width: 500px; margin: 0 auto; }
    .header { padding: 15px; text-align: center; }
    .header h1 { margin: 0; font-size: 22px; font-weight: 900; background: linear-gradient(90deg, var(--accent), #fff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .deck-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; padding: 10px 15px; }
    .slot { aspect-ratio: 1/1.25; background: var(--glass); border: 1px solid var(--border); border-radius: 12px; display: flex; align-items: center; justify-content: center; position: relative; transition: 0.2s; cursor: pointer; }
    .slot.filled { border-color: var(--accent); box-shadow: 0 0 15px rgba(0, 242, 255, 0.2); }
    .slot img { width: 90%; height: 90%; object-fit: contain; display: none; }
    .slot.filled img { display: block; animation: pop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
    @keyframes pop { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .elixir-badge { position: absolute; top: -5px; right: -5px; background: #f0f; color: #fff; border-radius: 6px; width: 18px; height: 18px; font-size: 10px; font-weight: 900; display: none; align-items: center; justify-content: center; border: 1px solid #fff; z-index: 10; }
    .slot.filled .elixir-badge { display: flex; }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; display: none; flex-direction: column; }
    .modal-content { margin-top: auto; background: #0f172a; border-top: 2px solid var(--accent); border-radius: 25px 25px 0 0; height: 85vh; display: flex; flex-direction: column; }
    .modal-header { padding: 15px; display: flex; gap: 10px; border-bottom: 1px solid var(--border); }
    #search { flex: 1; background: #1e293b; border: 1px solid var(--border); padding: 10px; border-radius: 10px; color: #fff; outline: none; }
    .cards-list { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; overflow-y: auto; }
    .card-item img { width: 100%; border-radius: 8px; }
    .card-item.selected { opacity: 0.2; pointer-events: none; }
    .sheet { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; display: none; align-items: flex-end; }
    .sheet-body { background: #1e293b; width: 100%; border-radius: 20px 20px 0 0; padding: 20px; box-sizing: border-box; }
    .sheet-btn { width: 100%; padding: 15px; border-radius: 12px; border: none; font-weight: 800; margin-bottom: 10px; font-size: 16px; }
    .footer { padding: 20px; }
    .btn-analyze { width: 100%; padding: 18px; border-radius: 15px; border: none; background: linear-gradient(90deg, #3b82f6, var(--accent)); color: #fff; font-weight: 900; text-transform: uppercase; }
    .result-view { position: fixed; inset: 0; background: var(--bg); z-index: 3000; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
  </style>
</head>
<body>

<div class="app">
  <div class="header"><h1>DECK ROASTER AI</h1><p>V5.0 ‚Ä¢ –í–°–ï –ö–ê–†–¢–´ –î–û–ë–ê–í–õ–ï–ù–´</p></div>
  <div class="deck-grid" id="grid-main">
    <script>
      for(let i=0; i<8; i++) document.write(`<div class="slot" id="s${i}" onclick="handleSlotClick(${i})"><span style="opacity:0.2" id="p${i}">Ôºã</span><div class="elixir-badge" id="e${i}"></div><img id="img${i}" src=""></div>`);
    </script>
  </div>
  <div class="footer"><button class="btn-analyze" onclick="analyze()">–ü—Ä–æ–∂–∞—Ä–∏—Ç—å –±–∏–ª–¥</button></div>
</div>

<div id="modal" class="modal" onclick="closeModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <div class="modal-header"><input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ (—Ö–æ–≥, –≥–∏–≥–∞–Ω—Ç, –ø–µ–∫–∫–∞)..." oninput="renderCards()"><button onclick="closeModal()" style="background:none; border:none; color:#fff; font-size:24px;">‚úï</button></div>
    <div class="cards-list" id="card-list"></div>
  </div>
</div>

<div id="sheet" class="sheet" onclick="closeSheet()"><div class="sheet-body" onclick="event.stopPropagation()"><button class="sheet-btn" style="background:var(--accent);" onclick="openPicker(lastIdx)">–ó–∞–º–µ–Ω–∏—Ç—å</button><button class="sheet-btn" style="background:#ef4444; color:#fff;" onclick="removeCard()">–£–¥–∞–ª–∏—Ç—å</button><button class="sheet-btn" style="background:#334155; color:#fff;" onclick="closeSheet()">–û—Ç–º–µ–Ω–∞</button></div></div>

<div id="result" class="result-view">
  <div id="res-grid" style="display:grid; grid-template-columns: repeat(8, 1fr); gap:4px; width:100%; margin-bottom:20px;"></div>
  <div style="background:var(--glass); padding:30px; border-radius:25px; border:1px solid var(--border); width:100%; box-sizing:border-box; text-align:center;">
    <div id="v-emoji" style="font-size:60px;"></div><h2 id="v-title" style="color:var(--accent)"></h2><p id="v-text" style="opacity:0.9; line-height:1.5;"></p>
  </div>
  <button class="btn-analyze" style="margin-top:30px; background:#334155;" onclick="location.reload()">–ó–∞–Ω–æ–≤–æ</button>
</div>

<script>
const tg = window.Telegram.WebApp; tg.expand();

// –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –ö–ê–†–¢ (110+)
const ALL_CARDS = [
  {id:"hog-rider",n:"–•–æ–≥ –í—Å–∞–¥–Ω–∏–∫ –Ω–∞ –∫–∞–±–∞–Ω–µ",e:4,t:"win"},{id:"balloon",n:"–®–∞—Ä –í–æ–∑–¥—É—à–Ω—ã–π",e:5,t:"win"},{id:"goblin-barrel",n:"–ë–æ—á–∫–∞ –ì–æ–±–ª–∏–Ω—Å–∫–∞—è",e:3,t:"win"},
  {id:"mega-knight",n:"–ú–µ–≥–∞—Ä—ã—Ü–∞—Ä—å –ú–ö",e:7,t:"mid"},{id:"pekka",n:"–ü–ï–ö–ö–ê",e:7,t:"heavy"},{id:"mini-pekka",n:"–ú–∏–Ω–∏ –ü–ï–ö–ö–ê",e:4,t:"heavy"},
  {id:"the-log",n:"–ë—Ä–µ–≤–Ω–æ",e:2,t:"spell"},{id:"fireball",n:"–§–∞–π–µ—Ä–±–æ–ª –û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä",e:4,t:"spell"},{id:"arrows",n:"–°—Ç—Ä–µ–ª—ã",e:3,t:"spell"},
  {id:"zap",n:"–†–∞–∑—Ä—è–¥",e:2,t:"spell"},{id:"poison",n:"–Ø–¥",e:4,t:"spell"},{id:"rocket",n:"–†–∞–∫–µ—Ç–∞",e:6,t:"spell"},
  {id:"valkyrie",n:"–í–∞–ª—å–∫–∏—Ä–∏—è",e:4,t:"def"},{id:"knight",n:"–†—ã—Ü–∞—Ä—å",e:3,t:"def"},{id:"giant",n:"–ì–∏–≥–∞–Ω—Ç",e:5,t:"win"},
  {id:"royal-giant",n:"–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç –ö–ì",e:6,t:"win"},{id:"golem",n:"–ì–æ–ª–µ–º",e:8,t:"win"},{id:"electro-giant",n:"–≠–ª–µ–∫—Ç—Ä–æ–≥–∏–≥–∞–Ω—Ç –≠–ì",e:7,t:"win"},
  {id:"x-bow",n:"–ê—Ä–±–∞–ª–µ—Ç",e:6,t:"cancer"},{id:"mortar",n:"–ú–æ—Ä—Ç–∏—Ä–∞",e:4,t:"win"},{id:"wizard",n:"–ú–∞–≥ –ö–æ–ª–¥—É–Ω",e:5,t:"mid"},
  {id:"electro-wizard",n:"–≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥",e:4,t:"sup"},{id:"ice-wizard",n:"–õ–µ–¥—è–Ω–æ–π –º–∞–≥",e:3,t:"sup"},{id:"musketeer",n:"–ú—É—à–∫–µ—Ç–µ—Ä",e:4,t:"sup"},
  {id:"witch",n:"–í–µ–¥—å–º–∞",e:5,t:"mid"},{id:"miner",n:"–®–∞—Ö—Ç–µ—Ä",e:3,t:"win"},{id:"princess",n:"–ü—Ä–∏–Ω—Ü–µ—Å—Å–∞",e:3,t:"win"},
  {id:"little-prince",n:"–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü",e:3,t:"sup"},{id:"monk",n:"–ú–æ–Ω–∞—Ö",e:5,t:"sup"},{id:"archer-queen",n:"–ö–æ—Ä–æ–ª–µ–≤–∞ –ª—É—á–Ω–∏—Ü",e:5,t:"sup"},
  {id:"mighty-miner",n:"–ú–æ–≥—É—á–∏–π —à–∞—Ö—Ç–µ—Ä",e:4,t:"def"},{id:"golden-knight",n:"–ó–æ–ª–æ—Ç–æ–π —Ä—ã—Ü–∞—Ä—å",e:4,t:"def"},{id:"skeleton-king",n:"–ö–æ—Ä–æ–ª—å —Å–∫–µ–ª–µ—Ç–æ–≤",e:4,t:"def"},
  {id:"skeletons",n:"–°–∫–µ–ª–µ—Ç—ã",e:1,t:"cycle"},{id:"ice-spirit",n:"–õ–µ–¥—è–Ω–æ–π –¥—É—Ö",e:1,t:"cycle"},{id:"electro-spirit",n:"–≠–ª–µ–∫—Ç—Ä–æ–¥—É—Ö",e:1,t:"cycle"},
  {id:"fire-spirit",n:"–û–≥–Ω–µ–Ω–Ω—ã–π –¥—É—Ö",e:1,t:"cycle"},{id:"bats",n:"–õ–µ—Ç—É—á–∏–µ –º—ã—à–∏",e:2,t:"cycle"},{id:"inferno-tower",n:"–ò–Ω—Ñ–µ—Ä–Ω–æ –±–∞—à–Ω—è",e:5,t:"def"},
  {id:"inferno-dragon",n:"–ü–ª–∞–º–µ–Ω–Ω—ã–π –¥—Ä–∞–∫–æ–Ω",e:4,t:"def"},{id:"baby-dragon",n:"–î—Ä–∞–∫–æ–Ω—á–∏–∫",e:4,t:"sup"},{id:"electro-dragon",n:"–≠–ª–µ–∫—Ç—Ä–æ–¥—Ä–∞–∫–æ–Ω",e:5,t:"sup"},
  {id:"bowler",n:"–í—ã—à–∏–±–∞–ª–∞",e:5,t:"def"},{id:"executioner",n:"–ü–∞–ª–∞—á",e:5,t:"def"},{id:"tornado",n:"–¢–æ—Ä–Ω–∞–¥–æ",e:3,t:"spell"},
  {id:"earthquake",n:"–ó–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–µ",e:3,t:"spell"},{id:"lightning",n:"–ú–æ–ª–Ω–∏—è",e:6,t:"spell"},{id:"graveyard",n:"–ö–ª–∞–¥–±–∏—â–µ",e:5,t:"win"},
  {id:"sparky",n:"–°–ø–∞—Ä–∫–∏",e:6,t:"win"},{id:"bandit",n:"–ë–∞–Ω–¥–∏—Ç–∫–∞",e:3,t:"sup"},{id:"royal-ghost",n:"–ü—Ä–∏–∑—Ä–∞–∫",e:3,t:"sup"},
  {id:"lumberjack",n:"–î—Ä–æ–≤–æ—Å–µ–∫",e:4,t:"heavy"},{id:"night-witch",n:"–ù–æ—á–Ω–∞—è –≤–µ–¥—å–º–∞",e:4,t:"sup"},{id:"ram-rider",n:"–í—Å–∞–¥–Ω–∏—Ü–∞",e:5,t:"win"},
  {id:"battle-ram",n:"–¢–∞—Ä–∞–Ω",e:4,t:"win"},{id:"royal-hogs",n:"–ö–∞–±–∞–Ω—ã",e:5,t:"win"},{id:"three-musketeers",n:"–¢—Ä–∏ –º—É—à–∫–µ—Ç–µ—Ä–∞",e:9,t:"heavy"},
  {id:"elite-barbarians",n:"–≠–ª–∏—Ç–∫–∏",e:6,t:"mid"},{id:"royal-recruits",n:"–†–µ–∫—Ä—É—Ç—ã",e:7,t:"def"},{id:"barbarians",n:"–í–∞—Ä–≤–∞—Ä—ã",e:5,t:"def"},
  {id:"minions",n:"–ú–∏–Ω—å–æ–Ω—ã",e:3,t:"cycle"},{id:"minion-horde",n:"–û—Ä–¥–∞",e:5,t:"def"},{id:"skeleton-army",n:"–ê—Ä–º–∏—è —Å–∫–µ–ª–µ—Ç–æ–≤",e:3,t:"def"},
  {id:"guards",n:"–°—Ç—Ä–∞–∂–∏",e:3,t:"def"},{id:"dark-prince",n:"–¢–µ–º–Ω—ã–π –ø—Ä–∏–Ω—Ü",e:4,t:"def"},{id:"prince",n:"–ü—Ä–∏–Ω—Ü",e:5,t:"heavy"},
  {id:"hunter",n:"–û—Ö–æ—Ç–Ω–∏–∫",e:4,t:"def"},{id:"fisherman",n:"–†—ã–±–∞–∫",e:3,t:"sup"},{id:"zappies",n:"–ú–∞—à–∏–Ω–∫–∏",e:4,t:"def"},
  {id:"magic-archer",n:"–ú–∞–≥–∏—á–µ—Å–∫–∏–π –ª—É—á–Ω–∏–∫",e:4,t:"sup"},{id:"mother-witch",n:"–ú–∞—Ç—å –≤–µ–¥—å–º–∞",e:4,t:"sup"},{id:"electro-giant",n:"–≠–ª–µ–∫—Ç—Ä–æ–≥–∏–≥–∞–Ω—Ç",e:7,t:"win"},
  {id:"phoenix",n:"–§–µ–Ω–∏–∫—Å",e:4,t:"sup"},{id:"mega-minion",n:"–ú–µ–≥–∞–º–∏–Ω—å–æ–Ω",e:3,t:"def"},{id:"dart-goblin",n:"–ì–æ–±–ª–∏–Ω —Å –¥—Ä–æ—Ç–∏–∫–∞–º–∏",e:3,t:"sup"},
  {id:"goblin-gang",n:"–ë–∞–Ω–¥–∞ –≥–æ–±–ª–∏–Ω–æ–≤",e:3,t:"def"},{id:"rascals",n:"–ü—Ä–æ—Ö–≤–æ—Å—Ç—ã",e:5,t:"def"},{id:"firecracker",n:"–ú–æ—Ä—Ç–∏—Ä–∞ –õ—É—á–∏—Ü–∞",e:3,t:"sup"},
  {id:"wall-breakers",n:"–°—Ç–µ–Ω–æ–±–æ–∏",e:2,t:"win"},{id:"battle-healer",n:"–¶–µ–ª–∏—Ç–µ–ª—å–Ω–∏—Ü–∞",e:4,t:"sup"},{id:"skeleton-barrel",n:"–ë–æ—á–∫–∞ —Å–æ —Å–∫–µ–ª–µ—Ç–∞–º–∏",e:3,t:"win"},
  {id:"cannon",n:"–ü—É—à–∫–∞",e:3,t:"def"},{id:"bomb-tower",n:"–ë–æ–º–±–µ–∂–∫–∞",e:4,t:"def"},{id:"tesla",n:"–¢–µ—Å–ª–∞",e:4,t:"def"},
  {id:"elixir-collector",n:"–°–±–æ—Ä—â–∏–∫",e:6,t:"def"},{id:"goblin-cage",n:"–ö–ª–µ—Ç–∫–∞",e:4,t:"def"},{id:"goblin-drill",n:"–ë—É—Ä",e:4,t:"win"},
  {id:"furnace",n:"–ü–µ—á–∫–∞",e:4,t:"def"},{id:"barbarian-hut",n:"–•–∏–∂–∏–Ω–∞ –≤–∞—Ä–≤–∞—Ä–æ–≤",e:6,t:"def"},{id:"goblin-hut",n:"–•–∏–∂–∏–Ω–∞ –≥–æ–±–ª–∏–Ω–æ–≤",e:5,t:"def"},
  {id:"tombstone",n:"–ù–∞–≥—Ä–æ–±—å–µ",e:3,t:"def"},{id:"barbarian-barrel",n:"–ë–æ—á–∫–∞ —Å –≤–∞—Ä–≤–∞—Ä–æ–º",e:2,t:"spell"},{id:"heal-spirit",n:"–î—É—Ö –∏—Å—Ü–µ–ª–µ–Ω–∏—è",e:1,t:"cycle"},
  {id:"rage",n:"–Ø—Ä–æ—Å—Ç—å",e:2,t:"spell"},{id:"clone",n:"–ö–ª–æ–Ω",e:3,t:"spell"},{id:"mirror",n:"–ó–µ—Ä–∫–∞–ª–æ",e:0,t:"spell"},{id:"freeze",n:"–ó–∞–º–æ—Ä–æ–∑–∫–∞",e:4,t:"spell"}
];

let deck = Array(8).fill(null); let lastIdx = 0;
function handleSlotClick(i) { lastIdx = i; if(deck[i]) document.getElementById('sheet').style.display='flex'; else openPicker(i); }
function openPicker(i) { lastIdx = i; closeSheet(); document.getElementById('modal').style.display='flex'; renderCards(); }
function closeModal() { document.getElementById('modal').style.display='none'; }
function closeSheet() { document.getElementById('sheet').style.display='none'; }
function removeCard() { deck[lastIdx]=null; const s=document.getElementById(`s${lastIdx}`); s.classList.remove('filled'); document.getElementById(`img${lastIdx}`).src=""; document.getElementById(`p${lastIdx}`).style.display="block"; closeSheet(); tg.HapticFeedback.impactOccurred('light'); }

function renderCards() {
  const q = document.getElementById('search').value.toLowerCase();
  const list = document.getElementById('card-list');
  const used = deck.filter(c => c).map(c => c.id);
  list.innerHTML = ALL_CARDS.filter(c => c.n.toLowerCase().includes(q)).map(c => `<div class="card-item ${used.includes(c.id)?'selected':''}" onclick="selectCard('${c.id}')"><img src="https://royaleapi.github.io/cr-api-assets/cards/${c.id}.png"></div>`).join('');
}

function selectCard(id) {
  const card = ALL_CARDS.find(c => c.id === id); deck[lastIdx] = card;
  const s = document.getElementById(`s${lastIdx}`);
  document.getElementById(`img${lastIdx}`).src = `https://royaleapi.github.io/cr-api-assets/cards/${id}.png`;
  document.getElementById(`e${lastIdx}`).innerText = card.e;
  document.getElementById(`p${lastIdx}`).style.display = "none";
  s.classList.add('filled'); closeModal(); tg.HapticFeedback.notificationOccurred('success');
}

function analyze() {
  if(deck.includes(null)) return tg.showAlert("–°–æ–±–µ—Ä–∏ –≤—Å–µ 8 –∫–∞—Ä—Ç, –∏–Ω–∞—á–µ —è —Ç–µ–±—è –ø—Ä–æ–∂–∞—Ä—é –≤—Ö–æ–ª–æ—Å—Ç—É—é!");
  const avg = (deck.reduce((a,b)=>a+b.e,0)/8).toFixed(1);
  const spells = deck.filter(c => c.t==='spell').length;
  const wins = deck.filter(c => c.t==='win' || c.t==='cancer').length;
  const mid = deck.filter(c => c.t==='mid' || c.e >= 7).length;
  const cycle = deck.filter(c => c.e <= 2).length;
  const random = (arr) => arr[Math.floor(Math.random() * arr.length)];
  let emoji, title, text;

  if (deck.some(c => c.t==='cancer')) {
    emoji="‚ò£Ô∏è"; title="–¢–û–ö–°–ò–ß–ù–´–ô –ú–£–°–û–†"; text=random(["–ê—Ä–±–∞–ª–µ—Ç—á–∏–∫? –°–µ—Ä—å–µ–∑–Ω–æ? –ù–∞–¥–µ—é—Å—å, —Ç—ã —Ö–æ—Ç—è –±—ã —Ä—É–∫–∏ –º–æ–µ—à—å –ø–æ—Å–ª–µ –∏–≥—Ä—ã.","–¢–≤–æ—è –¥–µ–∫–∞ –≤–æ–Ω—è–µ—Ç —Ç–∏–ª—å—Ç–æ–º –∏ –ø–æ—Å–∏–¥–µ–ª–∫–∞–º–∏ —É —Ä–µ–∫–∏. –£–¥–∞–ª–∏ –∏–≥—Ä—É.","–ò–≥—Ä–∞—Ç—å –∞—Ä–±–∞–ª–µ—Ç–æ–º ‚Äî —ç—Ç–æ –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞—Ç—å—Å—è, —á—Ç–æ —Ç–µ–±—è –≤ —à–∫–æ–ª–µ –æ–±–∏–∂–∞–ª–∏."]);
  } else if (mid >= 3 && avg > 4.3) {
    emoji="ü§°"; title="–ö–û–†–û–õ–¨ –ú–ò–î–õ–ê–î–î–ï–†–ê"; text=random([`–°—Ä. —ç–ª–∏–∫—Å–∏—Ä ${avg}. –¢—ã –∫–∞–∫ –≤–æ–æ–±—â–µ –¥–µ—Ñ–∞—Ç—å—Å—è —Å–æ–±—Ä–∞–ª—Å—è, –≥–µ–Ω–∏–π?`,`–ú–µ–≥–∞—Ä—ã—Ü–∞—Ä—å –∏ –ü–ï–ö–ö–ê? –¢–∏–ø–∏—á–Ω—ã–π 5000-–∫—É–±–∫–æ–≤—ã–π —ç–∫—Å–ø–µ—Ä—Ç. –¢–≤–æ–π –ø—Ä–µ–¥–µ–ª ‚Äî —ç—Ç–æ —Å–ø–∞–º –≤ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã.`,`–¢–≤–æ—è –¥–µ–∫–∞ —Ç—è–∂–µ–ª–µ–µ, —á–µ–º –º–æ—è –¥–µ–ø—Ä–µ—Å—Å–∏—è –æ—Ç —ç—Ç–æ–≥–æ –±–∏–ª–¥–∞.`]);
  } else if (cycle >= 4 && avg < 3.0) {
    emoji="üí¶"; title="–ü–û–¢–ù–´–ô –¶–ò–ö–õ–ï–†"; text=random(["–û, –æ–ø—è—Ç—å 2.6 –∏–ª–∏ –ø–æ–¥–æ–±–Ω–∞—è –¥–∏—á—å. –¢—ã –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –Ω–∞ —É–ª–∏—Ü—É –≤—ã—Ö–æ–¥–∏–ª?","–ö–∏–¥–∞—Ç—å –ª–µ–¥—è–Ω–æ–≥–æ –¥—É—Ö–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã ‚Äî —ç—Ç–æ –Ω–µ —Å–∫–∏–ª–ª, —ç—Ç–æ –Ω–µ—Ä–≤–Ω—ã–π —Ç–∏–∫.","–¢–≤–æ–π –±–∏–ª–¥ –ø–æ—Ç–Ω—ã–π –∫–∞–∫ –ø–æ–¥–º—ã—à–∫–∏ –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞ –≤ —Ñ–∏–Ω–∞–ª–µ."]);
  } else if (wins === 0) {
    emoji="üßê"; title="–ú–ò–†–ù–´–ô –ñ–ò–¢–ï–õ–¨"; text="–ù–∏ –æ–¥–Ω–æ–≥–æ –≤–∏–Ω-–∫–æ–Ω–∞. –¢—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –≤—ã–∏–≥—Ä–∞—Ç—å, –Ω–∞–¥–µ—è—Å—å, —á—Ç–æ —É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Å—è–¥–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω?";
  } else if (spells >= 2 && wins >= 1 && avg >= 3.0 && avg <= 4.0) {
    emoji="üî•"; title="–ù–û–†–ú–ê–°, –ù–û..."; text=random(["–•–æ—Ä–æ—à–∞—è –¥–µ–∫–∞. –ü—Ä–∏–∑–Ω–∞–≤–∞–π—Å—è, —É –∫–æ–≥–æ —Å–ª–∏–∑–∞–ª? –°–∞–º –±—ã —Ç–∞–∫–æ–µ –Ω–µ —Å–æ–±—Ä–∞–ª.","–°–ª–∏—à–∫–æ–º –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –¥–ª—è —Ç–µ–±—è. –í–∏–¥–∏–º–æ, —Å–ª—É—á–∞–π–Ω–æ –∫–Ω–æ–ø–∫–∏ –Ω–∞–∂–∞–ª –ø—Ä–∏ –≤—ã–±–æ—Ä–µ.","–ë–∏–ª–¥ –æ–∫, –Ω–æ —Å–∫–∏–ª–ª —ç—Ç–æ —Ç–µ–±–µ –Ω–µ –∑–∞–º–µ–Ω–∏—Ç."]);
  } else {
    emoji="ü§î"; title="–ù–ò–ö–ê–ö"; text="–≠—Ç–æ –Ω–µ –¥–µ–∫–∞, —ç—Ç–æ –≤–∏–Ω–µ–≥—Ä–µ—Ç –∏–∑ –∫–∞—Ä—Ç. –ù–∏ –∏–¥–µ–∏, –Ω–∏ –±–∞–ª–∞–Ω—Å–∞. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑.";
  }

  document.getElementById('v-emoji').innerText = emoji; document.getElementById('v-title').innerText = title; document.getElementById('v-text').innerText = text;
  document.getElementById('res-grid').innerHTML = deck.map(c => `<img src="https://royaleapi.github.io/cr-api-assets/cards/${c.id}.png" style="width:100%">`).join('');
  document.getElementById('result').style.display = 'flex'; tg.HapticFeedback.notificationOccurred('warning');
}
</script>
</body>
</html>
